/*! Orphus.js | by Dmitry Koterov | orphus.ru */
;(function(){var _1="5.01",_2="!rpgorex.@pmgia.locm",hq="http://www.orphus.ru/en/",_4="<!!!>",_5="<!!!>",_6=60,_7=256,_8={alt:"Select spelling or other mistake with mouse and press Ctrl+Enter. Let's keep the site clean of errors!",badbrowser:"Your browser does not support selection handling or IFRAMEs. Probably, you use an obsolete browser.",toobig:"You have selected too large text block!",thanks:"Thank you for your cooperation!",subject:"Spelling error",docmsg:"Document:",intextmsg:"Spelling error in text:",ifsendmsg:"Do you want to send a notice to the webmaster?\n<b>Your browser will stay on this page.</b>",name:"Orphus system",author:"Author: Dmitry Koterov.",to:"Proger_XP",send:"Send",cancel:"Cancel",entercmnt:"A comment for the webmaster (optional):"},_9="css",_a=0,w=window,d=w.document,de=d.documentElement,b=d.body,_f=null,_10={},_11=!1,_12="",_13=function(){_2.substr(0,1)=="!"&&(_2=_2.substr(1).replace(/(.)(.)/g,"$2$1")),d.onkeypress=_17,_8.gohome+=" "+_8.newwin},_18=function(){var e=0,t=function(){if(++e>20)return;w.status=e%5?_8.thanks:" ",setTimeout(t,100)};t()},_1b=function(e){e.style.position="absolute",e.style.top="-10000px",b.lastChild?b.insertBefore(e,b.lastChild):b.appendChild(e)},_1d=function(e){var t=d.createElement("DIV");return t.innerHTML='<iframe name="'+e+'"></iframe>',_1b(t),d.childNodes[0]},_20=function(e,t,n){var r="orphus_ifr";_f||(_f=_1d(r));var i=d.createElement("FORM");i.style.position="absolute",i.style.top="-10000px",i.action=hq,i.method="post",i.target=r;var s={version:_1,email:_2,to:_8.to,subject:_8.subject,ref:e,c_pre:t.pre,c_sel:t.text,c_suf:t.suf,c_pos:t.pos,c_tag1:_4,c_tag2:_5,charset:d.charset||d.characterSet||"",comment:n};for(var o in s){var u=d.createElement("INPUT");u.type="hidden",u.name=o,u.value=s[o],i.appendChild(u)}_1b(i),i.submit(),i.parentNode.removeChild(i)},_29=function(){var e=0,t=0;typeof w.innerWidth=="number"?(e=w.innerWidth,t=w.innerHeight):de&&(de.clientWidth||de.clientHeight)?(e=de.clientWidth,t=de.clientHeight):b&&(b.clientWidth||b.clientHeight)&&(e=b.clientWidth,t=b.clientHeight);var n=0,r=0;return typeof w.pageYOffset=="number"?(r=w.pageYOffset,n=w.pageXOffset):b&&(b.scrollLeft||b.scrollTop)?(r=b.scrollTop,n=b.scrollLeft):de&&(de.scrollLeft||de.scrollTop)&&(r=de.scrollTop,n=de.scrollLeft),{w:e,h:t,x:n,y:r}};_10.confirm=function(e,t,n){var r=(new Date).getTime(),i=confirm(_8.docmsg+"\n   "+d.location.href+"\n"+_8.intextmsg+'\n   "'+e+'"\n\n'+_8.ifsendmsg),s=(new Date).getTime()-r;if(i)t("");else if(!n&&s<50){var o=d.onkeyup;d.onkeyup=function(n){n||(n=window.event),n.keyCode==17&&(d.onkeyup=o,_10.confirm(e,t,!0))}}},_10.css=function(e,t){if(_11)return;_11=!0;var n=d.createElement("DIV"),r=750;r>b.clientWidth-10&&(r=b.clientWidth-10),n.style.zIndex="10001",n.innerHTML='<div id="orphusp" style="width: '+r+'px">'+'<a class="logo" href="'+hq+'" target="_blank">Orphus.ru</a>'+'<div class="legend">'+_8.intextmsg+"</div>"+'<div class="fragment">'+e.replace(_4,"<mark>").replace(_5,"</mark>")+"</div>"+'<div class="hint">'+_8.ifsendmsg.replace(/\n/,"<br>")+"</div>"+"<form>"+'<div class="comment">'+_8.entercmnt+"</div>"+'<input type="text" maxlength="250">'+'<div class="buttons">'+'<input type="submit" value="'+_8.send+'">'+"&nbsp;"+'<input type="button" value="'+_8.cancel+'">'+"</div>"+"</form>"+"</div>",_1b(n);var i=n.getElementsByTagName("input"),s=n.getElementsByTagName("form"),o=i[0],u=null,a=[],f=function(){d.onkeydown=u,u=null,n.parentNode.removeChild(n);for(var e=0;e<a.length;e++)a[e][0].style.visibility=a[e][1];_11=!1,_12=o.value},l=function(e){var t={x:0,y:0};while(e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop,e=e.offsetParent;return t};setTimeout(function(){var e=n.clientWidth,r=n.clientHeight,c=_29(),h=(c.w-e)/2+c.x;h<10&&(h=10);var p=(c.h-r)/2+c.y-10;p<10&&(p=10),n.style.left=h+"px",n.style.top=p+"px";if(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1<7){var v=d.getElementsByTagName("SELECT");for(var m=0;m<v.length;m++){var g=v[m],y=l(g);if(y.x>h+e||y.y>p+r||y.x+g.offsetWidth<h||y.y+g.offsetHeight<p)continue;a[a.length]=[g,g.style.visibility],g.style.visibility="hidden"}}o.value=_12,o.focus(),o.select(),u=d.onkeydown,d.onkeydown=function(e){e||(e=window.event),e.keyCode==27&&f()},s[0].onsubmit=function(){return t(o.value),f(),_12="",!1},i[2].onclick=function(){f()}},10)};var _4e=function(e){return(""+e).replace(/[\r\n]+/g," ").replace(/^\s+|\s+$/g,"")},_50=function(){try{var e=null,t=null;w.getSelection?t=w.getSelection():d.getSelection?t=d.getSelection():t=d.selection;var n=null;if(t!=null){var r="",e=null,i="",s=-1;if(t.getRangeAt){var o=t.getRangeAt(0);e=o.toString();var u=d.createRange();u.setStartBefore(o.startContainer.ownerDocument.body),u.setEnd(o.startContainer,o.startOffset),r=u.toString();var a=o.cloneRange();a.setStart(o.endContainer,o.endOffset),a.setEndAfter(o.endContainer.ownerDocument.body),i=a.toString()}else if(t.createRange){var o=t.createRange();e=o.text;var u=t.createRange();u.moveStart("character",-_6),u.moveEnd("character",-e.length),r=u.text;var a=t.createRange();a.moveEnd("character",_6),a.moveStart("character",e.length),i=a.text}else e=""+t;var f,l=(f=e.match(/^(\s*)/))&&f[0].length,c=(f=e.match(/(\s*)$/))&&f[0].length;return r+=e.substring(0,l),i=e.substring(e.length-c,e.length)+i,e=e.substring(l,e.length-c),e==""?null:{pre:r,text:e,suf:i,pos:s}}alert(_8.badbrowser);return}catch(c){return null}},_5d=function(){if(!_2||navigator.appName.indexOf("Netscape")!=-1&&eval(navigator.appVersion.substring(0,1))<5){alert(_8.badbrowser);return}var _63=_50();if(!_63)return;with(_63)pre=pre.substring(pre.length-_6,pre.length).replace(/^\S{1,10}\s+/,""),suf=suf.substring(0,_6).replace(/\s+\S{1,10}$/,"");var _64=_4e(_63.pre+_4+_63.text+_5+_63.suf);if(_64.length>_7){alert(_8.toobig);return}_10[_9](_64,function(e){_20(d.location.href,_63,e),_18()})},_17=function(e){var t=0,n=w.event;n?t=n.keyCode==10||n.keyCode==13&&n.ctrlKey:e&&(t=e.which==10&&e.modifiers==2||e.keyCode==0&&e.
charCode==106&&e.ctrlKey||e.keyCode==13&&e.ctrlKey);if(t)return _5d(),!1};_13()})();
